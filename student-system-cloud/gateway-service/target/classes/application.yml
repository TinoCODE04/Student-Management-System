server:
  port: 8080

spring:
  application:
    name: gateway-service
  cloud:
    nacos:
      discovery:
        server-addr: localhost:8848
    gateway:
      routes:
        # 认证服务
        - id: auth-service
          uri: lb://auth-service
          predicates:
            - Path=/api/auth/**
        
        # 学生服务
        - id: student-service
          uri: lb://student-service
          predicates:
            - Path=/api/student/**
        
        # 教师服务
        - id: teacher-service
          uri: lb://teacher-service
          predicates:
            - Path=/api/teacher/**
        
        # 课程服务
        - id: course-service
          uri: lb://course-service
          predicates:
            - Path=/api/course/**
        
        # 选课服务
        - id: selection-service
          uri: lb://selection-service
          predicates:
            - Path=/api/selection/**
        
        # 基础数据服务（学院）
        - id: base-service-college
          uri: lb://base-service
          predicates:
            - Path=/api/college/**
        
        # 基础数据服务（专业）
        - id: base-service-major
          uri: lb://base-service
          predicates:
            - Path=/api/major/**

# JWT 配置
jwt:
  secret: StudentManagementSystemSecretKey2024VeryLongSecretKeyForJWT
  # 白名单路径（不需要 Token）- 使用逗号分隔的字符串
  whitelist: /api/auth/login,/api/auth/captcha

# 日志配置
logging:
  level:
    com.studentsys.gateway: debug
    org.springframework.cloud.gateway: debug
